<Type Name="SqlColumnEncryptionCspProvider" FullName="System.Data.SqlClient.SqlColumnEncryptionCspProvider">
  <Metadata>
    <Meta Name="ms.openlocfilehash" Value="f41ab77291c4d43b74275d7acf22533a09167db9" />
    <Meta Name="ms.sourcegitcommit" Value="16d2d159872fd213cae4b8f371d7ae9c8b027c89" />
    <Meta Name="ms.translationtype" Value="HT" />
    <Meta Name="ms.contentlocale" Value="es-ES" />
    <Meta Name="ms.lasthandoff" Value="11/17/2018" />
    <Meta Name="ms.locfileid" Value="51908941" />
  </Metadata>
  <TypeSignature Language="C#" Value="public class SqlColumnEncryptionCspProvider : System.Data.SqlClient.SqlColumnEncryptionKeyStoreProvider" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi beforefieldinit SqlColumnEncryptionCspProvider extends System.Data.SqlClient.SqlColumnEncryptionKeyStoreProvider" />
  <TypeSignature Language="DocId" Value="T:System.Data.SqlClient.SqlColumnEncryptionCspProvider" />
  <TypeSignature Language="VB.NET" Value="Public Class SqlColumnEncryptionCspProvider&#xA;Inherits SqlColumnEncryptionKeyStoreProvider" />
  <TypeSignature Language="C++ CLI" Value="public ref class SqlColumnEncryptionCspProvider : System::Data::SqlClient::SqlColumnEncryptionKeyStoreProvider" />
  <TypeSignature Language="F#" Value="type SqlColumnEncryptionCspProvider = class&#xA;    inherit SqlColumnEncryptionKeyStoreProvider" />
  <AssemblyInfo>
    <AssemblyName>System.Data</AssemblyName>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Data.SqlClient.SqlColumnEncryptionKeyStoreProvider</BaseTypeName>
  </Base>
  <Interfaces />
  <Docs>
    <summary>
      <span data-ttu-id="ce066-101">La implementación del proveedor de almacén de CMK para usar Microsoft CAPI según los proveedores de servicios criptográficos (CSP) con <see href="https://docs.microsoft.com/sql/relational-databases/security/encryption/always-encrypted-database-engine">Always Encrypted</see>.</span>
      <span class="sxs-lookup">
        <span data-stu-id="ce066-101">The CMK Store provider implementation for using  Microsoft CAPI based Cryptographic Service Providers (CSP) with <see href="https://docs.microsoft.com/sql/relational-databases/security/encryption/always-encrypted-database-engine">Always Encrypted</see>.</span>
      </span>
    </summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="ce066-102">Permite almacenar las claves Always Encrypted de clave maestra de columna en un almacén, como el hardware de un módulo de seguridad (HSM), que es compatible con la de Microsoft CAPI según proveedores de servicios criptográficos (CSP).</span><span class="sxs-lookup"><span data-stu-id="ce066-102">Enables storing Always Encrypted column master key keys in a store, such as a hardware security module (HSM), that supports the Microsoft CAPI based Cryptographic Service Providers (CSP).</span></span>  
  
 ]]></format>
    </remarks>
    <related type="ExternalDocumentation" href="https://blogs.msdn.com/b/sqlsecurity/archive/tags/always+encrypted/">
      <span data-ttu-id="ce066-103">Blog de Always Encrypted</span>
      <span class="sxs-lookup">
        <span data-stu-id="ce066-103">Always Encrypted Blog</span>
      </span>
    </related>
    <related type="ExternalDocumentation" href="/sql/relational-databases/security/encryption/always-encrypted-client-development">
      <span data-ttu-id="ce066-104">Always Encrypted (desarrollo de cliente)</span>
      <span class="sxs-lookup">
        <span data-stu-id="ce066-104">Always Encrypted (client development)</span>
      </span>
    </related>
  </Docs>
  <Members>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public SqlColumnEncryptionCspProvider ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Data.SqlClient.SqlColumnEncryptionCspProvider.#ctor" />
      <MemberSignature Language="VB.NET" Value="Public Sub New ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; SqlColumnEncryptionCspProvider();" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Data</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters />
      <Docs>
        <summary>
          <span data-ttu-id="ce066-105">Inicializa una nueva instancia de la clase <see cref="T:System.Data.SqlClient.SqlColumnEncryptionCspProvider" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="ce066-105">Initializes a new instance of the <see cref="T:System.Data.SqlClient.SqlColumnEncryptionCspProvider" /> class.</span>
          </span>
        </summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="DecryptColumnEncryptionKey">
      <MemberSignature Language="C#" Value="public override byte[] DecryptColumnEncryptionKey (string masterKeyPath, string encryptionAlgorithm, byte[] encryptedColumnEncryptionKey);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig virtual instance unsigned int8[] DecryptColumnEncryptionKey(string masterKeyPath, string encryptionAlgorithm, unsigned int8[] encryptedColumnEncryptionKey) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Data.SqlClient.SqlColumnEncryptionCspProvider.DecryptColumnEncryptionKey(System.String,System.String,System.Byte[])" />
      <MemberSignature Language="VB.NET" Value="Public Overrides Function DecryptColumnEncryptionKey (masterKeyPath As String, encryptionAlgorithm As String, encryptedColumnEncryptionKey As Byte()) As Byte()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; override cli::array &lt;System::Byte&gt; ^ DecryptColumnEncryptionKey(System::String ^ masterKeyPath, System::String ^ encryptionAlgorithm, cli::array &lt;System::Byte&gt; ^ encryptedColumnEncryptionKey);" />
      <MemberSignature Language="F#" Value="override this.DecryptColumnEncryptionKey : string * string * byte[] -&gt; byte[]" Usage="sqlColumnEncryptionCspProvider.DecryptColumnEncryptionKey (masterKeyPath, encryptionAlgorithm, encryptedColumnEncryptionKey)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Data</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Byte[]</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="masterKeyPath" Type="System.String" />
        <Parameter Name="encryptionAlgorithm" Type="System.String" />
        <Parameter Name="encryptedColumnEncryptionKey" Type="System.Byte[]" />
      </Parameters>
      <Docs>
        <param name="masterKeyPath">
          <span data-ttu-id="ce066-106">Ruta de acceso de la clave maestra.</span>
          <span class="sxs-lookup">
            <span data-stu-id="ce066-106">The master key path.</span>
          </span>
        </param>
        <param name="encryptionAlgorithm">
          <span data-ttu-id="ce066-107">Algoritmo de cifrado.</span>
          <span class="sxs-lookup">
            <span data-stu-id="ce066-107">The encryption algorithm.</span>
          </span>
        </param>
        <param name="encryptedColumnEncryptionKey">
          <span data-ttu-id="ce066-108">Clave de cifrado de la columna cifrada.</span>
          <span class="sxs-lookup">
            <span data-stu-id="ce066-108">The encrypted column encryption key.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="ce066-109">Descifra el valor cifrado proporcionado con una clave asimétrica especificada por la ruta de acceso y el algoritmo de la clave.</span>
          <span class="sxs-lookup">
            <span data-stu-id="ce066-109">Decrypts the given encrypted value using an asymmetric key specified by the key path and algorithm.</span>
          </span>
          <span data-ttu-id="ce066-110">La ruta de acceso de la clave tendrá el formato de [NombreDeProveedor]/IdentificadorDeClave y debe ser una clave asimétrica almacenada en el proveedor CSP especificado.</span>
          <span class="sxs-lookup">
            <span data-stu-id="ce066-110">The key path will be in the format of [ProviderName]/KeyIdentifier and should be an asymmetric key stored in the specified CSP provider.</span>
          </span>
          <span data-ttu-id="ce066-111">El algoritmo válido usado para cifrar o descifrar la CEK es 'RSA_OAEP'.</span>
          <span class="sxs-lookup">
            <span data-stu-id="ce066-111">The valid algorithm used to encrypt/decrypt the CEK is 'RSA_OAEP'.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="ce066-112">Clave de cifrado de la columna descifrada.</span>
          <span class="sxs-lookup">
            <span data-stu-id="ce066-112">The decrypted column encryption key.</span>
          </span>
        </returns>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="EncryptColumnEncryptionKey">
      <MemberSignature Language="C#" Value="public override byte[] EncryptColumnEncryptionKey (string masterKeyPath, string encryptionAlgorithm, byte[] columnEncryptionKey);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig virtual instance unsigned int8[] EncryptColumnEncryptionKey(string masterKeyPath, string encryptionAlgorithm, unsigned int8[] columnEncryptionKey) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Data.SqlClient.SqlColumnEncryptionCspProvider.EncryptColumnEncryptionKey(System.String,System.String,System.Byte[])" />
      <MemberSignature Language="VB.NET" Value="Public Overrides Function EncryptColumnEncryptionKey (masterKeyPath As String, encryptionAlgorithm As String, columnEncryptionKey As Byte()) As Byte()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; override cli::array &lt;System::Byte&gt; ^ EncryptColumnEncryptionKey(System::String ^ masterKeyPath, System::String ^ encryptionAlgorithm, cli::array &lt;System::Byte&gt; ^ columnEncryptionKey);" />
      <MemberSignature Language="F#" Value="override this.EncryptColumnEncryptionKey : string * string * byte[] -&gt; byte[]" Usage="sqlColumnEncryptionCspProvider.EncryptColumnEncryptionKey (masterKeyPath, encryptionAlgorithm, columnEncryptionKey)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Data</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Byte[]</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="masterKeyPath" Type="System.String" />
        <Parameter Name="encryptionAlgorithm" Type="System.String" />
        <Parameter Name="columnEncryptionKey" Type="System.Byte[]" />
      </Parameters>
      <Docs>
        <param name="masterKeyPath">
          <span data-ttu-id="ce066-113">Ruta de acceso de la clave maestra.</span>
          <span class="sxs-lookup">
            <span data-stu-id="ce066-113">The master key path.</span>
          </span>
        </param>
        <param name="encryptionAlgorithm">
          <span data-ttu-id="ce066-114">Algoritmo de cifrado.</span>
          <span class="sxs-lookup">
            <span data-stu-id="ce066-114">The encryption algorithm.</span>
          </span>
        </param>
        <param name="columnEncryptionKey">
          <span data-ttu-id="ce066-115">Clave de cifrado de la columna cifrada.</span>
          <span class="sxs-lookup">
            <span data-stu-id="ce066-115">The encrypted column encryption key.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="ce066-116">Cifra la clave de cifrado de columna de texto sin formato proporcionada con una clave asimétrica especificada por la ruta de acceso de la clave y el algoritmo indicado.</span>
          <span class="sxs-lookup">
            <span data-stu-id="ce066-116">Encrypts the given plain text column encryption key using an asymmetric key specified by the key path and the specified algorithm.</span>
          </span>
          <span data-ttu-id="ce066-117">La ruta de acceso de la clave tendrá el formato de [NombreDeProveedor]/IdentificadorDeClave y debe ser una clave asimétrica almacenada en el proveedor CSP especificado.</span>
          <span class="sxs-lookup">
            <span data-stu-id="ce066-117">The key path will be in the format of [ProviderName]/KeyIdentifier and should be an asymmetric key stored in the specified CSP provider.</span>
          </span>
          <span data-ttu-id="ce066-118">El algoritmo válido usado para cifrar o descifrar la CEK es 'RSA_OAEP'.</span>
          <span class="sxs-lookup">
            <span data-stu-id="ce066-118">The valid algorithm used to encrypt/decrypt the CEK is 'RSA_OAEP'.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="ce066-119">Clave de cifrado de la columna cifrada.</span>
          <span class="sxs-lookup">
            <span data-stu-id="ce066-119">The encrypted column encryption key.</span>
          </span>
        </returns>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="ProviderName">
      <MemberSignature Language="C#" Value="public const string ProviderName;" />
      <MemberSignature Language="ILAsm" Value=".field public static literal string ProviderName" />
      <MemberSignature Language="DocId" Value="F:System.Data.SqlClient.SqlColumnEncryptionCspProvider.ProviderName" />
      <MemberSignature Language="VB.NET" Value="Public Const ProviderName As String " />
      <MemberSignature Language="C++ CLI" Value="public: System::String ^ ProviderName;" />
      <MemberSignature Language="F#" Value="val mutable ProviderName : string" Usage="System.Data.SqlClient.SqlColumnEncryptionCspProvider.ProviderName" />
      <MemberType>Field</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Data</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="ce066-120">Cadena constante para el nombre de proveedor 'MSSQL_CSP_PROVIDER'.</span>
          <span class="sxs-lookup">
            <span data-stu-id="ce066-120">A constant string for the provider name 'MSSQL_CSP_PROVIDER'.</span>
          </span>
        </summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="SignColumnMasterKeyMetadata">
      <MemberSignature Language="C#" Value="public override byte[] SignColumnMasterKeyMetadata (string masterKeyPath, bool allowEnclaveComputations);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig virtual instance unsigned int8[] SignColumnMasterKeyMetadata(string masterKeyPath, bool allowEnclaveComputations) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Data.SqlClient.SqlColumnEncryptionCspProvider.SignColumnMasterKeyMetadata(System.String,System.Boolean)" />
      <MemberSignature Language="VB.NET" Value="Public Overrides Function SignColumnMasterKeyMetadata (masterKeyPath As String, allowEnclaveComputations As Boolean) As Byte()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; override cli::array &lt;System::Byte&gt; ^ SignColumnMasterKeyMetadata(System::String ^ masterKeyPath, bool allowEnclaveComputations);" />
      <MemberSignature Language="F#" Value="override this.SignColumnMasterKeyMetadata : string * bool -&gt; byte[]" Usage="sqlColumnEncryptionCspProvider.SignColumnMasterKeyMetadata (masterKeyPath, allowEnclaveComputations)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Data</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Byte[]</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="masterKeyPath" Type="System.String" />
        <Parameter Name="allowEnclaveComputations" Type="System.Boolean" />
      </Parameters>
      <Docs>
        <param name="masterKeyPath">
          <span data-ttu-id="ce066-121">Ruta de acceso de la clave maestra de columna.</span>
          <span class="sxs-lookup">
            <span data-stu-id="ce066-121">The column master key path.</span>
          </span>
          <span data-ttu-id="ce066-122">El formato de la ruta es exclusivo de cada proveedor de almacenes de claves.</span>
          <span class="sxs-lookup">
            <span data-stu-id="ce066-122">The path format is specific to a key store provider.</span>
          </span>
        </param>
        <param name="allowEnclaveComputations">
          <span data-ttu-id="ce066-123">
            <see langword="true" /> para indicar que la clave maestra de columna admite los cálculos de enclave; en caso contrario, <see langword="false" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="ce066-123">
              <see langword="true" /> to indicate that the column master key supports enclave computations; otherwise, <see langword="false" />.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="ce066-124">Se produce una excepción <see cref="T:System.NotSupportedException" /> en todos los casos.</span>
          <span class="sxs-lookup">
            <span data-stu-id="ce066-124">Throws a <see cref="T:System.NotSupportedException" /> exception in all cases.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="ce066-125">Firma de los metadatos de la clave maestra de columna.</span>
          <span class="sxs-lookup">
            <span data-stu-id="ce066-125">The signature of the column master key metadata.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="ce066-126">El <xref:System.Data.SqlClient.SqlColumnEncryptionCspProvider.SignColumnMasterKeyMetadata%2A> método debe implementarse mediante los proveedores de almacén de claves correspondientes.</span><span class="sxs-lookup"><span data-stu-id="ce066-126">The <xref:System.Data.SqlClient.SqlColumnEncryptionCspProvider.SignColumnMasterKeyMetadata%2A> method must be implemented by the corresponding key store providers.</span></span> <span data-ttu-id="ce066-127"><xref:System.Data.SqlClient.SqlColumnEncryptionCspProvider.SignColumnMasterKeyMetadata%2A> debe usar una clave asimétrica identificada con una ruta de clave y firmar los metadatos que consta de `masterKeyPath`, `allowEnclaveComputations`y providerName.</span><span class="sxs-lookup"><span data-stu-id="ce066-127"><xref:System.Data.SqlClient.SqlColumnEncryptionCspProvider.SignColumnMasterKeyMetadata%2A> should use an asymmetric key identified by a key path and sign the masterkey metadata consisting of `masterKeyPath`, `allowEnclaveComputations`, and providerName.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.NotSupportedException">
          <span data-ttu-id="ce066-128">En todos los casos.</span>
          <span class="sxs-lookup">
            <span data-stu-id="ce066-128">In all cases.</span>
          </span>
        </exception>
      </Docs>
    </Member>
    <Member MemberName="VerifyColumnMasterKeyMetadata">
      <MemberSignature Language="C#" Value="public override bool VerifyColumnMasterKeyMetadata (string masterKeyPath, bool allowEnclaveComputations, byte[] signature);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig virtual instance bool VerifyColumnMasterKeyMetadata(string masterKeyPath, bool allowEnclaveComputations, unsigned int8[] signature) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Data.SqlClient.SqlColumnEncryptionCspProvider.VerifyColumnMasterKeyMetadata(System.String,System.Boolean,System.Byte[])" />
      <MemberSignature Language="VB.NET" Value="Public Overrides Function VerifyColumnMasterKeyMetadata (masterKeyPath As String, allowEnclaveComputations As Boolean, signature As Byte()) As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; override bool VerifyColumnMasterKeyMetadata(System::String ^ masterKeyPath, bool allowEnclaveComputations, cli::array &lt;System::Byte&gt; ^ signature);" />
      <MemberSignature Language="F#" Value="override this.VerifyColumnMasterKeyMetadata : string * bool * byte[] -&gt; bool" Usage="sqlColumnEncryptionCspProvider.VerifyColumnMasterKeyMetadata (masterKeyPath, allowEnclaveComputations, signature)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Data</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="masterKeyPath" Type="System.String" />
        <Parameter Name="allowEnclaveComputations" Type="System.Boolean" />
        <Parameter Name="signature" Type="System.Byte[]" />
      </Parameters>
      <Docs>
        <param name="masterKeyPath">
          <span data-ttu-id="ce066-129">Ruta completa de una clave asimétrica.</span>
          <span class="sxs-lookup">
            <span data-stu-id="ce066-129">The complete path of an asymmetric key.</span>
          </span>
          <span data-ttu-id="ce066-130">El formato de la ruta es exclusivo de cada proveedor de almacenes de claves.</span>
          <span class="sxs-lookup">
            <span data-stu-id="ce066-130">The path format is specific to a key store provider.</span>
          </span>
        </param>
        <param name="allowEnclaveComputations">
          <span data-ttu-id="ce066-131">Booleano que indica si la clave se puede enviar al enclave de confianza.</span>
          <span class="sxs-lookup">
            <span data-stu-id="ce066-131">A boolean that indicates if this key can be sent to the trusted enclave.</span>
          </span>
        </param>
        <param name="signature">
          <span data-ttu-id="ce066-132">Firma de metadatos de la clave maestra.</span>
          <span class="sxs-lookup">
            <span data-stu-id="ce066-132">Master key metadata signature.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="ce066-133">Esta función debe implementarse mediante los proveedores de almacenes de claves correspondientes.</span>
          <span class="sxs-lookup">
            <span data-stu-id="ce066-133">This function must be implemented by the corresponding Key Store providers.</span>
          </span>
          <span data-ttu-id="ce066-134">Esta función debe usar una clave asimétrica identificada con una ruta de clave y firmar los metadatos que componen la clave maestra (masterKeyPath, allowEnclaveComputations y providerName).</span>
          <span class="sxs-lookup">
            <span data-stu-id="ce066-134">This function should use an asymmetric key identified by a key path and sign the masterkey metadata consisting of (masterKeyPath, allowEnclaveComputations, providerName).</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="ce066-135">Booleano que indica si los metadatos de la clave maestra pueden verificarse según la firma proporcionada.</span>
          <span class="sxs-lookup">
            <span data-stu-id="ce066-135">A Boolean that indicates if the master key metadata can be verified based on the provided signature.</span>
          </span>
        </returns>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
  </Members>
</Type>