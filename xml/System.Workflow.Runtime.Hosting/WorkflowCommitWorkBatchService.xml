<Type Name="WorkflowCommitWorkBatchService" FullName="System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService">
  <Metadata>
    <Meta Name="ms.openlocfilehash" Value="d7c2bc4ffc232c6ea20bcf48f42263a9c694fe67" />
    <Meta Name="ms.sourcegitcommit" Value="0ec122ee5f3681159b8460ab15b409fd6e3d3ae0" />
    <Meta Name="ms.translationtype" Value="HT" />
    <Meta Name="ms.contentlocale" Value="es-ES" />
    <Meta Name="ms.lasthandoff" Value="10/04/2018" />
    <Meta Name="ms.locfileid" Value="48592447" />
  </Metadata>
  <TypeSignature Language="C#" Value="public abstract class WorkflowCommitWorkBatchService : System.Workflow.Runtime.Hosting.WorkflowRuntimeService" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi abstract beforefieldinit WorkflowCommitWorkBatchService extends System.Workflow.Runtime.Hosting.WorkflowRuntimeService" />
  <TypeSignature Language="DocId" Value="T:System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService" />
  <TypeSignature Language="VB.NET" Value="Public MustInherit Class WorkflowCommitWorkBatchService&#xA;Inherits WorkflowRuntimeService" />
  <TypeSignature Language="C++ CLI" Value="public ref class WorkflowCommitWorkBatchService abstract : System::Workflow::Runtime::Hosting::WorkflowRuntimeService" />
  <TypeSignature Language="F#" Value="type WorkflowCommitWorkBatchService = class&#xA;    inherit WorkflowRuntimeService" />
  <AssemblyInfo>
    <AssemblyName>System.Workflow.Runtime</AssemblyName>
    <AssemblyVersion>3.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Workflow.Runtime.Hosting.WorkflowRuntimeService</BaseTypeName>
  </Base>
  <Interfaces />
  <Attributes>
    <Attribute FrameworkAlternate="netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8">
      <AttributeName>System.Obsolete("The System.Workflow.* types are deprecated.  Instead, please use the new types from System.Activities.*")</AttributeName>
    </Attribute>
  </Attributes>
  <Docs>
    <summary>
      <span data-ttu-id="bfe69-101">Permite la lógica personalizada para la memoria asignada de lotes de trabajo.</span>
      <span class="sxs-lookup">
        <span data-stu-id="bfe69-101">Allows custom logic for the commitment of work batches.</span>
      </span>
    </summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
  
> [!NOTE]
>  [!INCLUDE[DeprecatedContent](~/includes/deprecatedcontent-md.md)]  
  
 <span data-ttu-id="bfe69-102">Cuando un lote de trabajo se confirma el tiempo de ejecución llama en <xref:System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService> y le da un delegado para llamar para confirmar el lote de trabajo.</span><span class="sxs-lookup"><span data-stu-id="bfe69-102">When a work batch is committed the runtime calls into the <xref:System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService> and gives it a delegate to call to do the actual committing of the work batch.</span></span> <span data-ttu-id="bfe69-103">El tiempo de ejecución todavía tiene la responsabilidad primaria de confirmar el lote de trabajo pero permite que <xref:System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService> se inserte en el proceso para la personalización en el proceso de la confirmación.</span><span class="sxs-lookup"><span data-stu-id="bfe69-103">The runtime still has the primary responsibility of committing the work batch but allows the <xref:System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService> to insert itself in the process for customization around the commit process.</span></span>  
  
 <span data-ttu-id="bfe69-104">Este proceso permite la lógica de control de errores personalizada.</span><span class="sxs-lookup"><span data-stu-id="bfe69-104">This process allows custom error handling logic.</span></span> <span data-ttu-id="bfe69-105">Si <xref:System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService> posee la transacción, que es el caso cuando la propiedad <xref:System.Transactions.Transaction.Current%2A?displayProperty=nameWithType> devuelve `null` de modo que necesita la necesidad de crear una nueva transacción de ambiente, puede llamar más de una vez al delegado, de modo que se crea una nueva transacción para cada llamada.</span><span class="sxs-lookup"><span data-stu-id="bfe69-105">If the <xref:System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService> owns the transaction, which is the case when the <xref:System.Transactions.Transaction.Current%2A?displayProperty=nameWithType> property returns `null` therefore necessitating the need to create a new ambient transaction, it is allowed to call the delegate more than once, creating a new transaction for each call.</span></span> <span data-ttu-id="bfe69-106">El caso más común para esto es, por ejemplo, administrar problemas de red intermitentes o conmutaciones por error de clúster de SQL.</span><span class="sxs-lookup"><span data-stu-id="bfe69-106">The most common case for this for example is to handle intermittent network problems or SQL cluster failovers.</span></span> <span data-ttu-id="bfe69-107">Si la llamada a <xref:System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService.CommitWorkBatchCallback> inicia una excepción <xref:System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService> puede detectar esta excepción, iniciar una nueva transacción y llamar de nuevo el delegado.</span><span class="sxs-lookup"><span data-stu-id="bfe69-107">If the call to the <xref:System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService.CommitWorkBatchCallback> throws an exception <xref:System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService> can catch this exception, start a new transaction and call the delegate again.</span></span> <span data-ttu-id="bfe69-108">Esto da un nivel de resistencia a la ejecución de la instancia de flujo de trabajo que, de lo contrario, haría que finalizasen los flujos de trabajo.</span><span class="sxs-lookup"><span data-stu-id="bfe69-108">This gives a level of resilience to workflow instance execution that otherwise would cause workflows to terminate.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="bfe69-109">El ejemplo siguiente muestra una clase que hereda de <xref:System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService>.</span><span class="sxs-lookup"><span data-stu-id="bfe69-109">The following example demonstrates a class that inherits from <xref:System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService>.</span></span>  
  
 [!code-csharp[WF_Samples#0](~/samples/snippets/csharp/VS_Snippets_CFX/wf_samples/cs/snippets.cs#0)]
 [!code-vb[WF_Samples#0](~/samples/snippets/visualbasic/VS_Snippets_CFX/wf_samples/vb/snippets.vb#0)]  
  
 ]]></format>
    </remarks>
  </Docs>
  <Members>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="protected WorkflowCommitWorkBatchService ();" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig specialname rtspecialname instance void .ctor() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService.#ctor" />
      <MemberSignature Language="VB.NET" Value="Protected Sub New ()" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; WorkflowCommitWorkBatchService();" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>3.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters />
      <Docs>
        <summary>
          <span data-ttu-id="bfe69-110">Cuando se implementa en una clase derivada, inicializa una nueva instancia de la clase <see cref="T:System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="bfe69-110">When implemented in a derived class, initializes a new instance of the <see cref="T:System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService" /> class.</span>
          </span>
        </summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="CommitWorkBatch">
      <MemberSignature Language="C#" Value="protected internal virtual void CommitWorkBatch (System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService.CommitWorkBatchCallback commitWorkBatchCallback);" />
      <MemberSignature Language="ILAsm" Value=".method familyorassemblyhidebysig newslot virtual instance void CommitWorkBatch(class System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService/CommitWorkBatchCallback commitWorkBatchCallback) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService.CommitWorkBatch(System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService.CommitWorkBatchCallback)" />
      <MemberSignature Language="C++ CLI" Value="protected public:&#xA; virtual void CommitWorkBatch(System::Workflow::Runtime::Hosting::WorkflowCommitWorkBatchService::CommitWorkBatchCallback ^ commitWorkBatchCallback);" />
      <MemberSignature Language="F#" Value="abstract member CommitWorkBatch : System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService.CommitWorkBatchCallback -&gt; unit&#xA;override this.CommitWorkBatch : System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService.CommitWorkBatchCallback -&gt; unit" Usage="workflowCommitWorkBatchService.CommitWorkBatch commitWorkBatchCallback" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>3.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="commitWorkBatchCallback" Type="System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService+CommitWorkBatchCallback" />
      </Parameters>
      <Docs>
        <param name="commitWorkBatchCallback">
          <span data-ttu-id="bfe69-111">El delegado <see cref="T:System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService.CommitWorkBatchCallback" /> al que se llamará para confirmar el lote de trabajo.</span>
          <span class="sxs-lookup">
            <span data-stu-id="bfe69-111">The <see cref="T:System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService.CommitWorkBatchCallback" /> delegate to call to commit the work batch.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="bfe69-112">Llamado para confirmar el lote de trabajo.</span>
          <span class="sxs-lookup">
            <span data-stu-id="bfe69-112">Called to commit the work batch.</span>
          </span>
        </summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
  </Members>
</Type>