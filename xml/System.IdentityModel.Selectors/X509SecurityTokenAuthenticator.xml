<Type Name="X509SecurityTokenAuthenticator" FullName="System.IdentityModel.Selectors.X509SecurityTokenAuthenticator">
  <Metadata><Meta Name="ms.openlocfilehash" Value="6773e0a54729431b85b3656ee44973f9bc6508d8" /><Meta Name="ms.sourcegitcommit" Value="16d2d159872fd213cae4b8f371d7ae9c8b027c89" /><Meta Name="ms.translationtype" Value="MT" /><Meta Name="ms.contentlocale" Value="es-ES" /><Meta Name="ms.lasthandoff" Value="11/17/2018" /><Meta Name="ms.locfileid" Value="51865092" /></Metadata><TypeSignature Language="C#" Value="public class X509SecurityTokenAuthenticator : System.IdentityModel.Selectors.SecurityTokenAuthenticator" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi beforefieldinit X509SecurityTokenAuthenticator extends System.IdentityModel.Selectors.SecurityTokenAuthenticator" />
  <TypeSignature Language="DocId" Value="T:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator" />
  <TypeSignature Language="VB.NET" Value="Public Class X509SecurityTokenAuthenticator&#xA;Inherits SecurityTokenAuthenticator" />
  <TypeSignature Language="C++ CLI" Value="public ref class X509SecurityTokenAuthenticator : System::IdentityModel::Selectors::SecurityTokenAuthenticator" />
  <TypeSignature Language="F#" Value="type X509SecurityTokenAuthenticator = class&#xA;    inherit SecurityTokenAuthenticator" />
  <AssemblyInfo>
    <AssemblyName>System.IdentityModel</AssemblyName>
    <AssemblyVersion>3.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.IdentityModel.Selectors.SecurityTokenAuthenticator</BaseTypeName>
  </Base>
  <Interfaces />
  <Docs>
    <summary><span data-ttu-id="499aa-101">Autentica un <see cref="T:System.IdentityModel.Tokens.X509SecurityToken" />.</span><span class="sxs-lookup"><span data-stu-id="499aa-101">Authenticates an <see cref="T:System.IdentityModel.Tokens.X509SecurityToken" />.</span></span></summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="499aa-102">Utilice la clase <xref:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator> para autenticar los tokens de seguridad <xref:System.IdentityModel.Tokens.X509SecurityToken>.</span><span class="sxs-lookup"><span data-stu-id="499aa-102">Use the <xref:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator> class to authenticate <xref:System.IdentityModel.Tokens.X509SecurityToken> security tokens.</span></span>  
  
 ]]></format>
    </remarks>
  </Docs>
  <Members>
    <MemberGroup MemberName=".ctor">
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="499aa-103">Inicializa una nueva instancia de la clase <see cref="T:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator" />.</span><span class="sxs-lookup"><span data-stu-id="499aa-103">Initializes a new instance of the <see cref="T:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator" /> class.</span></span></summary>
      </Docs>
    </MemberGroup>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public X509SecurityTokenAuthenticator ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.#ctor" />
      <MemberSignature Language="VB.NET" Value="Public Sub New ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; X509SecurityTokenAuthenticator();" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>3.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="499aa-104">Inicializa una nueva instancia de la clase <see cref="T:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator" />.</span><span class="sxs-lookup"><span data-stu-id="499aa-104">Initializes a new instance of the <see cref="T:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator" /> class.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="499aa-105">Cuando se llama al método <xref:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.ValidateTokenCore%2A> para autenticar el token, el certificado X.509 no está asignado a una identidad de Windows y el certificado se valida mediante una cadena de certificados.</span><span class="sxs-lookup"><span data-stu-id="499aa-105">When the <xref:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.ValidateTokenCore%2A> method is called to authenticate the token, the X.509 certificate is not mapped to a Windows identity and the certificate is validated using a certificate chain.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public X509SecurityTokenAuthenticator (System.IdentityModel.Selectors.X509CertificateValidator validator);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor(class System.IdentityModel.Selectors.X509CertificateValidator validator) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.#ctor(System.IdentityModel.Selectors.X509CertificateValidator)" />
      <MemberSignature Language="VB.NET" Value="Public Sub New (validator As X509CertificateValidator)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; X509SecurityTokenAuthenticator(System::IdentityModel::Selectors::X509CertificateValidator ^ validator);" />
      <MemberSignature Language="F#" Value="new System.IdentityModel.Selectors.X509SecurityTokenAuthenticator : System.IdentityModel.Selectors.X509CertificateValidator -&gt; System.IdentityModel.Selectors.X509SecurityTokenAuthenticator" Usage="new System.IdentityModel.Selectors.X509SecurityTokenAuthenticator validator" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>3.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters>
        <Parameter Name="validator" Type="System.IdentityModel.Selectors.X509CertificateValidator" />
      </Parameters>
      <Docs>
        <param name="validator"><span data-ttu-id="499aa-106">Un <see cref="T:System.IdentityModel.Selectors.X509CertificateValidator" /> que comprueba que el certificado es válido.</span><span class="sxs-lookup"><span data-stu-id="499aa-106">A <see cref="T:System.IdentityModel.Selectors.X509CertificateValidator" /> that verifies that the certificate is valid.</span></span></param>
        <summary><span data-ttu-id="499aa-107">Inicializa una nueva instancia de la clase <see cref="T:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator" /> usando el validador de certificados especificado.</span><span class="sxs-lookup"><span data-stu-id="499aa-107">Initializes a new instance of the <see cref="T:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator" /> class using the specified certificate validator.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="499aa-108">La clase <xref:System.IdentityModel.Selectors.X509CertificateValidator> proporciona un conjunto de modelos de validación de certificados predefinido, como, por ejemplo, la propiedad <xref:System.IdentityModel.Selectors.X509CertificateValidator.ChainTrust%2A>.</span><span class="sxs-lookup"><span data-stu-id="499aa-108">The <xref:System.IdentityModel.Selectors.X509CertificateValidator> class provides a set of pre-defined certificate validation models, such as the <xref:System.IdentityModel.Selectors.X509CertificateValidator.ChainTrust%2A> property.</span></span> <span data-ttu-id="499aa-109">Estos modelos de validación se pueden pasar al parámetro `validator`.</span><span class="sxs-lookup"><span data-stu-id="499aa-109">These validation models can be passed to the `validator` parameter.</span></span> <span data-ttu-id="499aa-110">Cuando una aplicación requiere un método de validación personalizado, derive una clase de <xref:System.IdentityModel.Selectors.X509CertificateValidator> e invalide el método <xref:System.IdentityModel.Selectors.X509CertificateValidator.Validate%28System.Security.Cryptography.X509Certificates.X509Certificate2%29>.</span><span class="sxs-lookup"><span data-stu-id="499aa-110">When an application requires a custom validation method, derive a class from <xref:System.IdentityModel.Selectors.X509CertificateValidator> and override the <xref:System.IdentityModel.Selectors.X509CertificateValidator.Validate%28System.Security.Cryptography.X509Certificates.X509Certificate2%29> method.</span></span> <span data-ttu-id="499aa-111">El método <xref:System.IdentityModel.Selectors.X509CertificateValidator.Validate%28System.Security.Cryptography.X509Certificates.X509Certificate2%29> llama al método <xref:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.ValidateTokenCore%2A>.</span><span class="sxs-lookup"><span data-stu-id="499aa-111">The <xref:System.IdentityModel.Selectors.X509CertificateValidator.Validate%28System.Security.Cryptography.X509Certificates.X509Certificate2%29> method is called by the <xref:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.ValidateTokenCore%2A> method.</span></span>  
  
 <span data-ttu-id="499aa-112">De forma predeterminada, el <xref:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator> no asigna el certificado X.509 a una identidad de Windows.</span><span class="sxs-lookup"><span data-stu-id="499aa-112">By default, the <xref:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator> does not map the X.509 certificate to a Windows identity.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public X509SecurityTokenAuthenticator (System.IdentityModel.Selectors.X509CertificateValidator validator, bool mapToWindows);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor(class System.IdentityModel.Selectors.X509CertificateValidator validator, bool mapToWindows) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.#ctor(System.IdentityModel.Selectors.X509CertificateValidator,System.Boolean)" />
      <MemberSignature Language="VB.NET" Value="Public Sub New (validator As X509CertificateValidator, mapToWindows As Boolean)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; X509SecurityTokenAuthenticator(System::IdentityModel::Selectors::X509CertificateValidator ^ validator, bool mapToWindows);" />
      <MemberSignature Language="F#" Value="new System.IdentityModel.Selectors.X509SecurityTokenAuthenticator : System.IdentityModel.Selectors.X509CertificateValidator * bool -&gt; System.IdentityModel.Selectors.X509SecurityTokenAuthenticator" Usage="new System.IdentityModel.Selectors.X509SecurityTokenAuthenticator (validator, mapToWindows)" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>3.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters>
        <Parameter Name="validator" Type="System.IdentityModel.Selectors.X509CertificateValidator" />
        <Parameter Name="mapToWindows" Type="System.Boolean" />
      </Parameters>
      <Docs>
        <param name="validator"><span data-ttu-id="499aa-113">Un <see cref="T:System.IdentityModel.Selectors.X509CertificateValidator" /> que comprueba que el certificado es válido.</span><span class="sxs-lookup"><span data-stu-id="499aa-113">A <see cref="T:System.IdentityModel.Selectors.X509CertificateValidator" /> that verifies that the certificate is valid.</span></span></param>
        <param name="mapToWindows"><span data-ttu-id="499aa-114"><see langword="true" /> para asignar la identidad del certificado a una identidad de Windows; de lo contrario, <see langword="false" />.</span><span class="sxs-lookup"><span data-stu-id="499aa-114"><see langword="true" /> to map the identity of the certificate to a Windows identity; otherwise, <see langword="false" />.</span></span></param>
        <summary><span data-ttu-id="499aa-115">Inicializa una nueva instancia de la clase <see cref="T:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator" /> utilizando el método de validación de certificado especificado e indica si la identidad del certificado está asignada a una identidad de Windows.</span><span class="sxs-lookup"><span data-stu-id="499aa-115">Initializes a new instance of the <see cref="T:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator" /> class using the specified certificate validation method and indicates whether the identity of the certificate is mapped to a Windows identity.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="499aa-116">La clase <xref:System.IdentityModel.Selectors.X509CertificateValidator> proporciona un conjunto de modelos de validación de certificados predefinido, como, por ejemplo, la propiedad <xref:System.IdentityModel.Selectors.X509CertificateValidator.ChainTrust%2A>.</span><span class="sxs-lookup"><span data-stu-id="499aa-116">The <xref:System.IdentityModel.Selectors.X509CertificateValidator> class provides a set of pre-defined certificate validation models, such as the <xref:System.IdentityModel.Selectors.X509CertificateValidator.ChainTrust%2A> property.</span></span> <span data-ttu-id="499aa-117">Estos modelos de validación se pueden pasar al parámetro `validator`.</span><span class="sxs-lookup"><span data-stu-id="499aa-117">These validation models can be passed to the `validator` parameter.</span></span> <span data-ttu-id="499aa-118">Cuando una aplicación requiere un método de validación personalizado, derive una clase de <xref:System.IdentityModel.Selectors.X509CertificateValidator> e invalide el método <xref:System.IdentityModel.Selectors.X509CertificateValidator.Validate%28System.Security.Cryptography.X509Certificates.X509Certificate2%29>.</span><span class="sxs-lookup"><span data-stu-id="499aa-118">When an application requires a custom validation method, derive a class from <xref:System.IdentityModel.Selectors.X509CertificateValidator> and override the <xref:System.IdentityModel.Selectors.X509CertificateValidator.Validate%28System.Security.Cryptography.X509Certificates.X509Certificate2%29> method.</span></span> <span data-ttu-id="499aa-119">El método <xref:System.IdentityModel.Selectors.X509CertificateValidator.Validate%28System.Security.Cryptography.X509Certificates.X509Certificate2%29> llama al método <xref:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.ValidateTokenCore%2A>.</span><span class="sxs-lookup"><span data-stu-id="499aa-119">The <xref:System.IdentityModel.Selectors.X509CertificateValidator.Validate%28System.Security.Cryptography.X509Certificates.X509Certificate2%29> method is called by the <xref:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.ValidateTokenCore%2A> method.</span></span>  
  
 <span data-ttu-id="499aa-120">Cuando se llama al método <xref:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.ValidateTokenCore%2A> para autenticar el token y `mapToWindows` es `true`, el certificado X.509 se asigna a una cuenta de Windows y las notificaciones se agregan al <xref:System.IdentityModel.Policy.EvaluationContext> con los grupos de Windows a los que el usuario pertenece.</span><span class="sxs-lookup"><span data-stu-id="499aa-120">When the <xref:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.ValidateTokenCore%2A> method is called to authenticate the token and `mapToWindows` is `true`, the X.509 certificate is mapped to a Windows account and claims are added to the <xref:System.IdentityModel.Policy.EvaluationContext> with the Windows groups that the user belongs to.</span></span> <span data-ttu-id="499aa-121">La forma en la que el certificado X.509 se asigna a una cuenta de Windows depende del tipo de token de seguridad:</span><span class="sxs-lookup"><span data-stu-id="499aa-121">How the X.509 certificate is mapped to a Windows account depends upon the security token type:</span></span>  
  
-   <span data-ttu-id="499aa-122">Cuando el token de seguridad es del tipo <xref:System.IdentityModel.Tokens.X509WindowsSecurityToken>, el certificado X.509 se asigna utilizando la propiedad <xref:System.IdentityModel.Tokens.X509WindowsSecurityToken.WindowsIdentity%2A>.</span><span class="sxs-lookup"><span data-stu-id="499aa-122">When the security token is of type <xref:System.IdentityModel.Tokens.X509WindowsSecurityToken>, the X.509 certificate is mapped using the <xref:System.IdentityModel.Tokens.X509WindowsSecurityToken.WindowsIdentity%2A> property.</span></span>  
  
-   <span data-ttu-id="499aa-123">Cuando el token de seguridad es del tipo `X509SecurityToken`, el certificado X.509 se asigna a una cuenta de Windows utilizando su nombre principal del usuario (UPN).</span><span class="sxs-lookup"><span data-stu-id="499aa-123">When the security token is of type `X509SecurityToken`, the X.509 certificate is mapped to a Windows account using its user principal name (UPN).</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public X509SecurityTokenAuthenticator (System.IdentityModel.Selectors.X509CertificateValidator validator, bool mapToWindows, bool includeWindowsGroups);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor(class System.IdentityModel.Selectors.X509CertificateValidator validator, bool mapToWindows, bool includeWindowsGroups) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.#ctor(System.IdentityModel.Selectors.X509CertificateValidator,System.Boolean,System.Boolean)" />
      <MemberSignature Language="VB.NET" Value="Public Sub New (validator As X509CertificateValidator, mapToWindows As Boolean, includeWindowsGroups As Boolean)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; X509SecurityTokenAuthenticator(System::IdentityModel::Selectors::X509CertificateValidator ^ validator, bool mapToWindows, bool includeWindowsGroups);" />
      <MemberSignature Language="F#" Value="new System.IdentityModel.Selectors.X509SecurityTokenAuthenticator : System.IdentityModel.Selectors.X509CertificateValidator * bool * bool -&gt; System.IdentityModel.Selectors.X509SecurityTokenAuthenticator" Usage="new System.IdentityModel.Selectors.X509SecurityTokenAuthenticator (validator, mapToWindows, includeWindowsGroups)" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>3.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters>
        <Parameter Name="validator" Type="System.IdentityModel.Selectors.X509CertificateValidator" />
        <Parameter Name="mapToWindows" Type="System.Boolean" />
        <Parameter Name="includeWindowsGroups" Type="System.Boolean" />
      </Parameters>
      <Docs>
        <param name="validator"><span data-ttu-id="499aa-124">Un <see cref="T:System.IdentityModel.Selectors.X509CertificateValidator" /> que comprueba que el certificado es válido.</span><span class="sxs-lookup"><span data-stu-id="499aa-124">A <see cref="T:System.IdentityModel.Selectors.X509CertificateValidator" /> that verifies that the certificate is valid.</span></span></param>
        <param name="mapToWindows"><span data-ttu-id="499aa-125"><see langword="true" /> para asignar la identidad del certificado a una identidad de Windows; de lo contrario, <see langword="false" />.</span><span class="sxs-lookup"><span data-stu-id="499aa-125"><see langword="true" /> to map the identity of the certificate to a Windows identity; otherwise, <see langword="false" />.</span></span></param>
        <param name="includeWindowsGroups"><span data-ttu-id="499aa-126"><see langword="true" /> para incluir los grupos a los que pertenece el usuario de Windows en la propiedad <see cref="P:System.IdentityModel.Policy.AuthorizationContext.ClaimSets" /> que se construye a lo largo del proceso de autenticación; de lo contrario, <see langword="false" />.</span><span class="sxs-lookup"><span data-stu-id="499aa-126"><see langword="true" /> to include the groups the Windows user belongs to in the <see cref="P:System.IdentityModel.Policy.AuthorizationContext.ClaimSets" /> property that is constructed throughout the authentication process; otherwise, <see langword="false" />.</span></span></param>
        <summary><span data-ttu-id="499aa-127">Inicializa una nueva instancia de la clase <see cref="T:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator" /> utilizando el método de validación de certificado especificado e indica si la identidad del certificado se asigna a una identidad de Windows y los grupos de Windows a los que el usuario pertenece.</span><span class="sxs-lookup"><span data-stu-id="499aa-127">Initializes a new instance of the <see cref="T:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator" /> class using the specified certificate validation method and indicates whether the identity of the certificate is mapped to a Windows identity and the Windows groups the user belongs to.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="499aa-128">Con el fin de mejorar el rendimiento, pase `false` al parámetro `includeWindowsGroups` cuando la información de grupos de Windows no se requiera.</span><span class="sxs-lookup"><span data-stu-id="499aa-128">Pass `false` to the `includeWindowsGroups` parameter when the Windows group information is not required to improve performance.</span></span>  
  
 <span data-ttu-id="499aa-129">La clase <xref:System.IdentityModel.Selectors.X509CertificateValidator> tiene varias propiedades estáticas, como, por ejemplo, la propiedad <xref:System.IdentityModel.Selectors.X509CertificateValidator.ChainTrust%2A> que se puede pasar al parámetro `validator`.</span><span class="sxs-lookup"><span data-stu-id="499aa-129">The <xref:System.IdentityModel.Selectors.X509CertificateValidator> class has several static properties, such as the <xref:System.IdentityModel.Selectors.X509CertificateValidator.ChainTrust%2A> property that can be passed to the `validator` parameter.</span></span> <span data-ttu-id="499aa-130">Estas propiedades proporcionan métodos de validación comunes para los certificados X.509.</span><span class="sxs-lookup"><span data-stu-id="499aa-130">These properties provide common validation methods for X.509 certificates.</span></span> <span data-ttu-id="499aa-131">Cuando se requiere un método de validación personalizado, derive una clase de <xref:System.IdentityModel.Selectors.X509CertificateValidator> e invalide el método <xref:System.IdentityModel.Selectors.X509CertificateValidator.Validate%28System.Security.Cryptography.X509Certificates.X509Certificate2%29>.</span><span class="sxs-lookup"><span data-stu-id="499aa-131">When a custom validation method is required, derive a class from <xref:System.IdentityModel.Selectors.X509CertificateValidator> and override the <xref:System.IdentityModel.Selectors.X509CertificateValidator.Validate%28System.Security.Cryptography.X509Certificates.X509Certificate2%29> method.</span></span> <span data-ttu-id="499aa-132">El método <xref:System.IdentityModel.Selectors.X509CertificateValidator.Validate%28System.Security.Cryptography.X509Certificates.X509Certificate2%29> llama al método <xref:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.ValidateTokenCore%2A>.</span><span class="sxs-lookup"><span data-stu-id="499aa-132">The <xref:System.IdentityModel.Selectors.X509CertificateValidator.Validate%28System.Security.Cryptography.X509Certificates.X509Certificate2%29> method is called by the <xref:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.ValidateTokenCore%2A> method.</span></span>  
  
 <span data-ttu-id="499aa-133">Cuando `true` se pasa al parámetro `mapToWindows`, el certificado X.509 se asigna a una cuenta de Windows y las notificaciones pertinentes se agregan al <xref:System.IdentityModel.Policy.EvaluationContext>, como los grupos de Windows a los que el usuario pertenece.</span><span class="sxs-lookup"><span data-stu-id="499aa-133">When `true` is passed into the `mapToWindows` parameter, the X.509 certificate is mapped to a Windows account and relevant claims are added to the <xref:System.IdentityModel.Policy.EvaluationContext>, such as the Windows groups that the user belongs to.</span></span> <span data-ttu-id="499aa-134">Cuando el token de seguridad es del tipo <xref:System.IdentityModel.Tokens.X509WindowsSecurityToken>, la propiedad <xref:System.IdentityModel.Tokens.X509WindowsSecurityToken.WindowsIdentity%2A> está utilizando la identidad que se especifica en el token; de lo contrario, el certificado X.509 se asigna a una identidad de Windows utilizando un inicio de sesión de Kerberos S4U basado en la extensión SubjectAltNames del nombre de entidad de seguridad del usuario del certificado X.509.</span><span class="sxs-lookup"><span data-stu-id="499aa-134">When the security token is of type <xref:System.IdentityModel.Tokens.X509WindowsSecurityToken>, the <xref:System.IdentityModel.Tokens.X509WindowsSecurityToken.WindowsIdentity%2A> property is using the identity that is specified in the token; otherwise, the X.509 certificate is mapped to a Windows identity using a Kerberos S4U logon based on the user principal name SubjectAltNames extension of the X.509 certificate.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="CanValidateTokenCore">
      <MemberSignature Language="C#" Value="protected override bool CanValidateTokenCore (System.IdentityModel.Tokens.SecurityToken token);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig virtual instance bool CanValidateTokenCore(class System.IdentityModel.Tokens.SecurityToken token) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.CanValidateTokenCore(System.IdentityModel.Tokens.SecurityToken)" />
      <MemberSignature Language="VB.NET" Value="Protected Overrides Function CanValidateTokenCore (token As SecurityToken) As Boolean" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; override bool CanValidateTokenCore(System::IdentityModel::Tokens::SecurityToken ^ token);" />
      <MemberSignature Language="F#" Value="override this.CanValidateTokenCore : System.IdentityModel.Tokens.SecurityToken -&gt; bool" Usage="x509SecurityTokenAuthenticator.CanValidateTokenCore token" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>3.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="token" Type="System.IdentityModel.Tokens.SecurityToken" />
      </Parameters>
      <Docs>
        <param name="token"><span data-ttu-id="499aa-135"><see cref="T:System.IdentityModel.Tokens.SecurityToken" /> que se va a validar.</span><span class="sxs-lookup"><span data-stu-id="499aa-135">The <see cref="T:System.IdentityModel.Tokens.SecurityToken" /> to be validated.</span></span></param>
        <summary><span data-ttu-id="499aa-136">Obtiene un valor que indica si el autenticador de tokens de seguridad puede validar el token de seguridad especificado.</span><span class="sxs-lookup"><span data-stu-id="499aa-136">Gets a value that indicates whether the specified security token can be validated by this security token authenticator.</span></span></summary>
        <returns><span data-ttu-id="499aa-137"><see langword="true" /> cuando <paramref name="token" /> es un token de seguridad <see cref="T:System.IdentityModel.Tokens.X509SecurityToken" /> o una clase que deriva de <see cref="T:System.IdentityModel.Tokens.X509SecurityToken" />; de lo contrario, <see langword="false" />.</span><span class="sxs-lookup"><span data-stu-id="499aa-137"><see langword="true" /> when <paramref name="token" /> is a <see cref="T:System.IdentityModel.Tokens.X509SecurityToken" /> security token or a class that derives from <see cref="T:System.IdentityModel.Tokens.X509SecurityToken" />; otherwise, <see langword="false" />.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="499aa-138">El método <xref:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.CanValidateTokenCore%2A> no autentica el token de seguridad; el método <xref:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.ValidateTokenCore%2A> realiza eso.</span><span class="sxs-lookup"><span data-stu-id="499aa-138">The <xref:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.CanValidateTokenCore%2A> method does not authenticate the security token; that is performed by the <xref:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.ValidateTokenCore%2A> method.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="MapCertificateToWindowsAccount">
      <MemberSignature Language="C#" Value="public bool MapCertificateToWindowsAccount { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance bool MapCertificateToWindowsAccount" />
      <MemberSignature Language="DocId" Value="P:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.MapCertificateToWindowsAccount" />
      <MemberSignature Language="VB.NET" Value="Public ReadOnly Property MapCertificateToWindowsAccount As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property bool MapCertificateToWindowsAccount { bool get(); };" />
      <MemberSignature Language="F#" Value="member this.MapCertificateToWindowsAccount : bool" Usage="System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.MapCertificateToWindowsAccount" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>3.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="499aa-139">Obtiene un valor que indica si asignar el certificado X.509 a una cuenta de Windows.</span><span class="sxs-lookup"><span data-stu-id="499aa-139">Gets a value that indicates whether to map the X.509 certificate to a Windows account.</span></span></summary>
        <value><span data-ttu-id="499aa-140"><see langword="true" /> para asignar el certificado X.509 a una cuenta de Windows; de lo contrario, <see langword="false" />.</span><span class="sxs-lookup"><span data-stu-id="499aa-140"><see langword="true" /> to map the X.509 certificate to a Windows account; otherwise, <see langword="false" />.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="499aa-141">La propiedad <xref:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.MapCertificateToWindowsAccount%2A> sólo se puede establecer un constructor.</span><span class="sxs-lookup"><span data-stu-id="499aa-141">The <xref:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.MapCertificateToWindowsAccount%2A> property can only be set in a constructor.</span></span>  
  
 <span data-ttu-id="499aa-142">Si se utiliza la seguridad de HTTPS o nivel de transporte SSL y el canal de seguridad subyacente o Internet Information Services (IIS) ya proporcionan asignación, se aplica la asignación, sin validación de cadena.</span><span class="sxs-lookup"><span data-stu-id="499aa-142">If transport-level SSL or HTTPS security is being used and mapping is already provided by the underlying security channel or by Internet Information Services (IIS), then that mapping is applied with no chain-validation.</span></span> <span data-ttu-id="499aa-143">De lo contrario, antes de realizar la asignación, el certificado se valida mediante una cadena de certificados y el certificado debe encadenarse a una identidad de NT_AUTHORITY.</span><span class="sxs-lookup"><span data-stu-id="499aa-143">Otherwise, prior to doing the mapping, the certificate is validated using a certificate chain, and the certificate must chain to an NT_AUTHORITY identity.</span></span> <span data-ttu-id="499aa-144">La estructura de la cadena utilizada corresponde a la cert_chain_policy_nt_auth, tal y como se define en el `CertVerifyCertificateChainPolicy` función (consulte la [CertVerifyCertificateChainPolicy](https://go.microsoft.com/fwlink/?LinkId=83570) función en el SDK de criptografía).</span><span class="sxs-lookup"><span data-stu-id="499aa-144">The chain structure used corresponds to the CERT_CHAIN_POLICY_NT_AUTH as defined in the `CertVerifyCertificateChainPolicy` function (see the [CertVerifyCertificateChainPolicy](https://go.microsoft.com/fwlink/?LinkId=83570) function in the Cryptography SDK).</span></span> <span data-ttu-id="499aa-145">Este comportamiento sólo se produce al asignar un certificado a una cuenta de Windows.</span><span class="sxs-lookup"><span data-stu-id="499aa-145">This behavior only occurs when mapping a certificate to a Windows account.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="ValidateTokenCore">
      <MemberSignature Language="C#" Value="protected override System.Collections.ObjectModel.ReadOnlyCollection&lt;System.IdentityModel.Policy.IAuthorizationPolicy&gt; ValidateTokenCore (System.IdentityModel.Tokens.SecurityToken token);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig virtual instance class System.Collections.ObjectModel.ReadOnlyCollection`1&lt;class System.IdentityModel.Policy.IAuthorizationPolicy&gt; ValidateTokenCore(class System.IdentityModel.Tokens.SecurityToken token) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.ValidateTokenCore(System.IdentityModel.Tokens.SecurityToken)" />
      <MemberSignature Language="VB.NET" Value="Protected Overrides Function ValidateTokenCore (token As SecurityToken) As ReadOnlyCollection(Of IAuthorizationPolicy)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; override System::Collections::ObjectModel::ReadOnlyCollection&lt;System::IdentityModel::Policy::IAuthorizationPolicy ^&gt; ^ ValidateTokenCore(System::IdentityModel::Tokens::SecurityToken ^ token);" />
      <MemberSignature Language="F#" Value="override this.ValidateTokenCore : System.IdentityModel.Tokens.SecurityToken -&gt; System.Collections.ObjectModel.ReadOnlyCollection&lt;System.IdentityModel.Policy.IAuthorizationPolicy&gt;" Usage="x509SecurityTokenAuthenticator.ValidateTokenCore token" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>3.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Collections.ObjectModel.ReadOnlyCollection&lt;System.IdentityModel.Policy.IAuthorizationPolicy&gt;</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="token" Type="System.IdentityModel.Tokens.SecurityToken" />
      </Parameters>
      <Docs>
        <param name="token"><span data-ttu-id="499aa-146"><see cref="T:System.IdentityModel.Tokens.SecurityToken" /> que se va a validar.</span><span class="sxs-lookup"><span data-stu-id="499aa-146">The <see cref="T:System.IdentityModel.Tokens.SecurityToken" /> to be validated.</span></span></param>
        <summary><span data-ttu-id="499aa-147">Autentica el token de seguridad especificado y devuelve el conjunto de directivas de la autorización para el token de seguridad.</span><span class="sxs-lookup"><span data-stu-id="499aa-147">Authenticates the specified security token and returns the set of authorization policies for the security token.</span></span></summary>
        <returns><span data-ttu-id="499aa-148"><see cref="T:System.Collections.ObjectModel.ReadOnlyCollection`1" /> de tipo <see cref="T:System.IdentityModel.Policy.IAuthorizationPolicy" /> que contiene el conjunto de directivas de autorización en vigor para esta aplicación.</span><span class="sxs-lookup"><span data-stu-id="499aa-148">A <see cref="T:System.Collections.ObjectModel.ReadOnlyCollection`1" /> of type <see cref="T:System.IdentityModel.Policy.IAuthorizationPolicy" /> that contains the set of authorization policies in effect for this application.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="499aa-149">Cuando se invalide el método <xref:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.ValidateTokenCore%2A>, siga estas instrucciones:</span><span class="sxs-lookup"><span data-stu-id="499aa-149">When the <xref:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.ValidateTokenCore%2A> method is overridden, follow these guidelines:</span></span>  
  
-   <span data-ttu-id="499aa-150">Cuando el token de seguridad pasado en el parámetro `token` no se puede validar, produzca la excepción <xref:System.IdentityModel.Tokens.SecurityTokenValidationException>.</span><span class="sxs-lookup"><span data-stu-id="499aa-150">When the security token passed into the `token` parameter cannot be validated, throw the <xref:System.IdentityModel.Tokens.SecurityTokenValidationException> exception.</span></span>  
  
-   <span data-ttu-id="499aa-151">Cuando no hay en vigor ninguna directiva de la autorización para esta aplicación, devuelva un <xref:System.Collections.ObjectModel.ReadOnlyCollection%601> vacío de tipo <xref:System.IdentityModel.Policy.IAuthorizationPolicy>.</span><span class="sxs-lookup"><span data-stu-id="499aa-151">When there are no authorization policies in effect for this application, return an empty <xref:System.Collections.ObjectModel.ReadOnlyCollection%601> of type <xref:System.IdentityModel.Policy.IAuthorizationPolicy>.</span></span>  
  
 <span data-ttu-id="499aa-152">Cuando este método devuelve `null`, Windows Communication Foundation generará una <xref:System.IdentityModel.Tokens.SecurityTokenValidationException> excepción.</span><span class="sxs-lookup"><span data-stu-id="499aa-152">When this method returns `null`, Windows Communication Foundation throws a <xref:System.IdentityModel.Tokens.SecurityTokenValidationException> exception.</span></span>  
  
 <span data-ttu-id="499aa-153">El método <xref:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.ValidateTokenCore%2A> llama al método <xref:System.IdentityModel.Selectors.X509CertificateValidator.Validate%28System.Security.Cryptography.X509Certificates.X509Certificate2%29> del método de validación especificado en el constructor para autenticar el parámetro `token`.</span><span class="sxs-lookup"><span data-stu-id="499aa-153">The <xref:System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.ValidateTokenCore%2A> method calls the <xref:System.IdentityModel.Selectors.X509CertificateValidator.Validate%28System.Security.Cryptography.X509Certificates.X509Certificate2%29> method of the validation method specified in the constructor to authenticate the `token` parameter.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
  </Members>
</Type>